<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Homepage</title>
    <link rel="icon" type="image/x-icon" href="res/images/icon.png" />
    <link rel="stylesheet" href="messages.css">
    <script src="verify.js"></script>
    <style>
      body {
        overflow: auto;
      }
      #myVideo-container:before {
        background: linear-gradient(#847dbfd7, #847dbfd7);
      }

      .messageSection {
        background-color: #211637;
        height: 40em;
        width: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
      }

      .messagesSquare {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 80%;
        max-width: 70%;
        background-color: #7066a3;
        padding: 0 1rem;
        box-shadow: 10px 10px #43316d;
        border-radius: 1rem;
      }

      #messages-container {
        margin-top: -1rem;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        gap: 2rem;
        /* background-color: #7066a3; */
        padding: 1rem;
        border-radius: 1rem;
        max-width: 100%;

      }

      .message {
        min-width: 5rem;
        max-width: 10rem;
        max-height: 20rem;
        padding: 20px; 
        background-color: #af92d4;
        display: flex;
        flex-direction: column;
        justify-content: center;
        text-align: none;
        gap: 1rem;
        font-size: 1.4rem;
        transition: .4s ease;
        box-shadow: 10px 10px 0 #43316d;
        text-shadow: 2px 2px 0 purple;
      }

      .message:hover {
        filter: drop-shadow(0 0 15px #a07bd1);
      }
    </style>
  </head>
  <body>
    <div w3-include-html="nav.html"></div>
      <img
        src="res/images/homepage/homebg.png"
        alt="Overlay Image"
        id="overlayImage"
      />
    </div>

    <main>
    <div class="selection-container">
      <img src="res/images/homepage/ribbonHome.png" alt="" class="ribbon" />
      <div class="selection">
        <a href="olivia.html" class="selectionLink">
            <div class="boxSelection">
                <div class="boxContent">
                  <img src="res/images/homepage/olivia1.png" alt="" class="olivia" />
                  <img src="res/images/homepage/oliviakid.jpg" alt="" class="kid" />
                </div>
                <p>Olivia Isabel Rodrigo</p>
            </div>
        </a>
        <a href="songs.html" class="selectionLink">
            <div class="boxSelection">
                <div class="boxContent">
                  <img src="res/images/homepage/gutsAlbum.webp" alt="" class="album" />
                  <img src="res/images/homepage/sour.webp" alt="" class="album2" />
                </div>
                <p>Songs</p>
            </div>
        </a>
        <a href="mv.html" class="selectionLink">
            <div class="boxSelection">
                <div class="boxContent">
                  <img src="res/images/homepage/gutsposter.png" alt="" class="poster" />
                  <img
                    src="res/images/homepage/oliviaposter.png"
                    alt=""
                    class="poster2"
                  />
                </div>
                <p>MVs</p>
            </div>
        </a>
        <a href="fanart.html" class="selectionLink">
            <div class="boxSelection">
                <div class="boxContent">
                  <img src="res/images/homepage/fanart1.png" alt="" class="fanart" />
                  <img src="res/images/homepage/fanart2.png" alt="" class="fanart2" />
                </div>
                <p>FanArts</p>
            </div>
        </a>
        
      </div>
      <a
        href="message.html"
        class="getStartedButton"
        style="position: absolute; bottom: 90px"
      >
        <p class="getStarted" style="font-size: 1.5rem">
          Send a message to Olivia!
        </p>
        <img src="res/images/bandaid.png" alt="" class="bandaid" width="300" />
      </a>
    </div>

    <div class="messageSection">
    <div class="messagesSquare">
    <div id="messages-container">
      <!-- <div class="message">
        <p>Lorem ipsumqwdqqdwdqwd</p>
        <p>wahriwqhqd</p>
      </div> -->
    </div>
  </div>
    </div>

    <!-- <div class="messagesBox">
      <div class="descPic">
        <img src="res/images/oliviaPic.jpeg" alt="">
      </div>
      <p>Welcome to the Olivia Site! This platform is a prototype, serving as a demonstration and testing environment for upcoming features and design concepts. Please note that functionality and content may be limited or subject to change as we refine the experience. Your feedback is valuable in helping us shape the future of Olivia Site!</p>
    </div> -->

    <footer class="pageFooter">
      <p>Creators:</p>
      <p>Gill Irish B. Lusabio, Hamrainie L. Monta√±er, John Patrick B. Salen</p>
    </footer>
  </main>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
    const container = document.getElementById('messages-container');

    // Fetch messages from the PHP script
    fetch('https://olivia-users.tiiny.io/getmessages.php')
        .then(response => response.json())
        .then(data => {
            // Iterate over the messages and display them
            data.forEach(message => {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message');
                messageDiv.innerHTML = `
                    <p>${message.message}</p> <p><strong>- ${message.username}</strong></p> 
                `;
                container.appendChild(messageDiv);
                // const messageElement = document.createElement('div');
                // messageElement.classList.add('message');
                // messageElement.innerHTML = `<strong>${message.username}:</strong> ${message.message}`;
                // messageContainer.appendChild(messageElement);
            });
        })
        .catch(error => console.error('Error fetching messages:', error));
});
  </script>

    <!-- <script>
      async function fetchMessages(){
        const container = document.getElementById('messages-container');
        const response = await fetch('https://oliviaserver.onrender.com/getmessages');
        const data = await response.json();

          data.data.forEach(message => {
                const messageDiv = document.createElement('div');
                messageDiv.classList.add('message');
                messageDiv.innerHTML = `
                    <p>${message.message}</p> <p><strong>- ${message.username}:</strong></p> 
                `;
                container.appendChild(messageDiv);
            });
      }
    </script> -->
    <script src="nav.js"></script>
    <script>
      includeHTML();
    </script>
  </body>
</html>
